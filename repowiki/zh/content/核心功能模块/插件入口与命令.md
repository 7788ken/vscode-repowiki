# 插件入口与命令

<cite>
**本文档引用的文件**
- [src/extension.ts](file://src/extension.ts)
- [package.json](file://package.json)
</cite>

## 目录
1. [激活与视图注册](#激活与视图注册)
2. [事件与刷新机制](#事件与刷新机制)
3. [命令注册与行为](#命令注册与行为)

## 激活与视图注册
扩展激活后创建 `MarkdownTreeProvider` 与 `FileWatcher`，并注册 TreeView `repowiki.markdownExplorer`，用于在侧边栏展示 Markdown 列表。

**Section sources**
- [src/extension.ts](file://src/extension.ts#L7-L16)

## 事件与刷新机制
文件变化与配置变更会触发刷新，确保树视图与分组配置保持同步。

**Section sources**
- [src/extension.ts](file://src/extension.ts#L18-L28)

## 命令注册与行为
- `repowiki.refresh`：刷新树视图
- `repowiki.openFile`：打开所选 Markdown 文件
- `repowiki.createGroup`：创建分组
- `repowiki.deleteGroup`：删除分组并提示确认
- `repowiki.renameGroup`：重命名分组
- `repowiki.moveToGroup`：将文件移动至分组

**Section sources**
- [package.json](file://package.json#L37-L94)
- [src/extension.ts](file://src/extension.ts#L30-L149)
