# 树视图与分组

<cite>
**本文档引用的文件**
- [src/markdownTreeProvider.ts](file://src/markdownTreeProvider.ts)
- [src/groupManager.ts](file://src/groupManager.ts)
- [src/types.ts](file://src/types.ts)
</cite>

## 目录
1. [TreeView 节点模型](#treeview-节点模型)
2. [树视图数据流程](#树视图数据流程)
3. [分组策略与配置](#分组策略与配置)
4. [文件扫描与排除](#文件扫描与排除)

## TreeView 节点模型
树视图节点分为 `group` 与 `file` 两类，文件节点携带绝对路径与相对路径用于打开与分组管理。

**Section sources**
- [src/types.ts](file://src/types.ts#L3-L31)

## 树视图数据流程
TreeView 根节点显示分组列表，分组节点展开后展示该分组下的 Markdown 文件。分组名按字母排序，默认分组“未分类”固定在最后。

**Section sources**
- [src/markdownTreeProvider.ts](file://src/markdownTreeProvider.ts#L47-L104)
- [src/groupManager.ts](file://src/groupManager.ts#L109-L128)

## 分组策略与配置
分组配置存储在工作区设置中，支持创建、删除、重命名与移动文件到分组，默认分组“未分类”不可删除或重命名。

**Section sources**
- [src/groupManager.ts](file://src/groupManager.ts#L15-L128)

## 文件扫描与排除
扫描逻辑使用 `findFiles('**/*.md')` 搜索工作区 Markdown 文件，并应用 `repowiki.excludePatterns` 作为排除规则。

**Section sources**
- [src/markdownTreeProvider.ts](file://src/markdownTreeProvider.ts#L106-L133)
